% document class:
\documentclass[10pt]{article}

\usepackage{subfigure} % for subfigures
\usepackage{amsmath}
\usepackage{amssymb} % for math symbols
\usepackage{graphicx} % image formats
\usepackage[top=2cm,bottom=2cm,left=2cm,right=2cm]{geometry} % define page set up
\usepackage{float}
\usepackage{listings}
%% \usepackage{columbidaeTitle}
%% \usepackage{dirtree}
\usepackage[normalem]{ulem}
\usepackage{lscape}
\usepackage{csvsimple}
\usepackage{multicol}
% for dependency chart
\usepackage{prerex}
\usetikzlibrary{fit}

% For dependency chart
\setcounter{diagheight}{50}

% color package:
\usepackage{color}
\newcommand{\edit}{\textcolor{red}} % marker to designate areas that need future attention

\definecolor{passgreen}{rgb}{0,0.5,0}
\definecolor{failred}{rgb}{0.5,0,0}

\newcommand{\tableheader}{\textbf}
\newcommand{\subtitleaccent}{\textsuperscript{\line(1,0){40}}}
\newcommand{\usecase}{\large\underline}
\newcommand{\testscenario}{\normalsize}
\newcommand{\testcase}{\small\textit}
\newcommand{\passtest}{\textcolor{passgreen}}
\newcommand{\failtest}{\textcolor{failred}}

\usepackage{setspace}
%% \doublespacing
\singlespacing

% set to zero indent length
\setlength\parindent{0pt}

\definecolor{mygray}{rgb}{0.98,0.98,0.98}
\lstset{ %
  backgroundcolor=\color{mygray},
  frame=single
}

\newenvironment{changemargin}[2]{%
  \begin{list}{}{%
      \setlength{\topsep}{0pt}%
      \setlength{\leftmargin}{#1}%
      \setlength{\rightmargin}{#2}%
      \setlength{\listparindent}{\parindent}%
      \setlength{\itemindent}{\parindent}%
      \setlength{\parsep}{\parskip}%
    }%
  \item[]}{\end{list}}

%% \DTsetlength{0.2em}{3em}{0.2em}{0.4pt}{1.6pt}

\title{%
  Automated Testing Engine Approach \\
  {\large \subtitleaccent~~CUAHSI Inc.~~\subtitleaccent}}
\author{Prepared by Neal DeBuhr}
\date{\today}

\begin{document}

\maketitle

\newpage
\section{Infrastructure}


\section{Test Suite}
\subsection{Abstraction Layers}
\begin{figure}[H]
\begin{center}
\begin{tabular}{| c | p{6cm} | c | } \hline
  \fbox{Test Case Scripts} & CUAHSI Test Cases & Minimum Complexity \\
  $\downarrow$ & & \\
  \fbox{Workflow Layer} & CUAHSI High-Level Framework & \\
  $\downarrow$ & & $\downarrow$ \\
  \fbox{Site Element Layer} & CUAHSI Low-Level Framework & \\
  $\downarrow$ & & \\
  \fbox{Selenium} & Off-the-shelf Selenium & Maximum Complexity\\ \hline
  $\downarrow \uparrow$ & & \\
  {Software Product} & CUAHSI Software Product & \\
\end{tabular}
\end{center}
\caption{Test Suite Framework}
\label{fig:tesSuiFra}
\end{figure}

Important Notes:
\begin{itemize}
\item Whenever possible, complexity should be pushed down the layers (closer to the Selenium layer)
\item The test cases themselves (top level) should in particular be very low complexity.  Ideally, business users should be able to easily understand and perhaps even write these scripts
\item Each level should only interact with one level below it (eg. the Workflow layer should not have Selenium commands)
\end{itemize}

\subsection{Layers Implementation}
\begin{chart}%\grid
  \reqhalfcourse 45,45:{hydroclient.py}{Hydroclient Test Cases}{}

  \reqhalfcourse 35,36:{hc\_macros.py}{Hydroclient Macros}{}

  \reqhalfcourse 35,27:{hc\_elements.py}{Hydroclient Elements}{}
  \reqhalfcourse 55,27:{utils.py}{Test System Utilities}{}

  \reqhalfcourse 35,18:{site\_element.py}{Test System Element Class}{}

  \reqhalfcourse 45,9:{}{Selenium Driver}{}

  \reqhalfcourse 45,0:{}{CUAHSI Software Product}{}

  \prereq 45,45,35,36:
  \prereq 35,36,35,18:
  \prereq 35,18,45,9:

  \prereq 45,45,55,27:
  \prereq 55,27,45,9:

  \coreq 45,9,45,0:

  %% \prereqc 45,45,35,27;-30:
  %% \prereqc 45,45,55,27;-30:
  %% \prereqc 35,27,45,9;0:
  %% \prereqc 68,18,45,9;0:
  %% \prereqc 68,27,45,9;0:

  %% \coreq 55,27,68,27:
  %% \coreq 35,36,35,27:
  %% \coreq 35,36,55,27:

  %% \begin{pgfonlayer}{courses}
  %%   \draw[dashed] ([shift={(-1mm,-1mm)}]x55y27.south west) rectangle ([shift={(1mm,1mm)}]x68y27.north east);
  %% \end{pgfonlayer}
\end{chart}

\end{document}
